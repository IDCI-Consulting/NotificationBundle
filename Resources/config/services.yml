services:
    notification_manager:
        class: IDCI\Bundle\NotificationBundle\Service\Manager
        arguments: [@validator, @doctrine.orm.entity_manager]
        calls:
            - [addNotifier, [@email_notifier]]
            - [addNotifier, [@facebook_notifier]]
            - [addNotifier, [@mail_notifier]]
            - [addNotifier, [@sms_notifier]]
            - [addNotifier, [@twitter_notifier]]

    email_notifier:
        class: IDCI\Bundle\NotificationBundle\Notifier\EmailNotifier
        arguments: [@doctrine.orm.entity_manager, @mailer]

    facebook_notifier:
        class: IDCI\Bundle\NotificationBundle\Notifier\FacebookNotifier
        arguments: [@doctrine.orm.entity_manager]

    mail_notifier:
        class: IDCI\Bundle\NotificationBundle\Notifier\MailNotifier
        arguments: [@doctrine.orm.entity_manager]

    sms_notifier:
        class: IDCI\Bundle\NotificationBundle\Notifier\SmsNotifier
        arguments: [@doctrine.orm.entity_manager]

    twitter_notifier:
        class: IDCI\Bundle\NotificationBundle\Notifier\TwitterNotifier
        arguments: [@doctrine.orm.entity_manager]

